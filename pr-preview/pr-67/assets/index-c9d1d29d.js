import{c as s,a as N,d as _,u as m,j as n,b as t,P as c,F as g,L as k,l as w}from"./index-c1d704d5.js";import{B as a}from"./index-46917494.js";import{I as l,P as v}from"./index-9c037ae0.js";import{g as B}from"./building-925df4bd.js";import{u as y,c as P}from"./locker-9630e6d8.js";const b=s("section",{target:"e377ic80"})("display:flex;flex-direction:column;justify-content:center;padding:0 30px;gap:20px;",({theme:e})=>N("min-height:calc(var(--vh, 1vh) * 100 - ",e.layouts.fixedHeight,");",""),";"),R=()=>{const e=_(),{me:r}=m();return n(v,{children:n(b,{children:r?t(g,{children:[n(a,{variant:"contained",startIcon:n(l,{iconName:"box"}),onClick:()=>e(c.CRITERIA),children:"사물함 배정기준 설정"}),n(a,{variant:"contained",startIcon:n(l,{iconName:"box"}),onClick:()=>e(c.SORT),children:"사물함 배정 확정"}),n(a,{variant:"contained",startIcon:n(l,{iconName:"box"}),onClick:()=>e(c.RESULT),children:"사물함 신청내역 확인"})]}):n(k,{})})})},M=e=>{const{locker:r,name:i,id:o}=e;if(!r)return n(x.InformBox,{className:"nothing",children:t("div",{className:"nothing-inner",children:[t("div",{className:"inform__user",children:[t("span",{children:["이름: ",i]}),t("span",{children:["학번: ",o]})]}),t("div",{children:[n("p",{children:"아직 배정된 사물함이 없습니다."})," ",n("p",{children:"사물함을 신청하세요"})]})]})});const{major:d,owned_id:h,building_id:S,locker_number:I,shared_id:u,floor:C,is_share_registered:j}=r;return t(x.InformBox,{children:[t("span",{children:["이름: ",i]}),t("span",{children:["학과: ",d]}),t("span",{children:["학번: ",o]}),t("span",{children:["위치: ",C,"층"]}),t("span",{children:["건물: ",B(S)]}),t("span",{children:["사물함 번호: ",I]}),h===o&&n("span",{children:u?`쉐어중 :  ${u}`:`쉐어 등록 여부 : ${j?"✔️":"❌"}`}),u===o&&n("span",{children:"쉐어 받음"})]})},x={InformBox:s("div",{target:"ey0rj9n0"})("display:grid;grid-template-columns:1fr 1fr;justify-items:flex-start;align-items:center;width:100%;padding:0 10px;border-top:1px solid ",({theme:e})=>e.colors.light_grey_100,";background-color:",({theme:e})=>e.colors.background_2,";&.nothing{display:flex;flex-direction:column;justify-content:center;align-items:center;p{color:",({theme:e})=>e.colors.error_100,";}}& .nothing-inner{display:flex;flex-direction:column;justify-content:center;gap:10px;}& .inform__user{display:flex;justify-content:space-between;align-items:center;width:100%;}")},p=({user:e})=>{const{name:r,id:i}=e,{myLocker:o}=y(i);return t(f.Container,{children:[n(f.LockerInfo,{children:n(l,{iconName:"locker",size:"150",hasCursor:!1})}),n(M,{name:r,id:i,locker:o})]})};p.Skeleton=function(){const r=w();return t(f.SkeletonWrapper,{children:[n(l,{iconName:"nothing",size:"100",color:r.colors.grey_200,hasCursor:!1}),n("span",{style:{color:r.colors.grey_200},children:"로그인 후 사용할 수 있습니다!"})]})};const f={Container:s("div",{target:"e152uy8q2"})("display:grid;grid-template-rows:350px 1fr;width:100%;height:450px;background-color:",({theme:e})=>e.colors.white_300,";border:1px solid ",({theme:e})=>e.colors.light_grey_100,";border-radius:5px;"),LockerInfo:s("div",{target:"e152uy8q1"})({name:"t5t5sq",styles:"display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:100%"}),SkeletonWrapper:s("div",{target:"e152uy8q0"})("display:flex;flex-direction:column;justify-content:center;align-items:center;gap:30px;width:100%;height:450px;background-color:",({theme:e})=>e.colors.white_300,";border:1px solid ",({theme:e})=>e.colors.light_grey_100,";border-radius:5px;margin-bottom:30px;")},T=()=>{const e=_(),{me:r}=m(),{myLocker:i}=y((r==null?void 0:r.id)||0),o=h=>{e(h)},{mutate:d}=P();return n(v,{children:n(b,{children:r?t(g,{children:[n(p,{user:r}),i&&!(i!=null&&i.shared_id)&&!(i!=null&&i.is_share_registered)&&n(a,{variant:"contained",onClick:()=>o(c.USER_SHARE),children:"사물함 쉐어하기"}),(i==null?void 0:i.owned_id)===(r==null?void 0:r.id)&&!(i!=null&&i.shared_id)&&(i!=null&&i.is_share_registered)?n(a,{variant:"outlined",onClick:()=>d({id:(i==null?void 0:i.id)||0,share_start_date:null,share_end_date:null}),children:"쉐어 취소"}):void 0]}):t(g,{children:[n(p.Skeleton,{}),n(a,{variant:"contained",onClick:()=>o(c.LOGIN),children:"로그인 하러 가기"})]})})})},$=()=>{const{me:e}=m();return e!=null&&e.is_usermode?n(T,{}):n(R,{})};export{$ as default};

import{i as s,e as n,f as d,u as m,g as c,h as i}from"./index-23d0ad62.js";import{M as l}from"./major-a63cf2c8.js";const M=async t=>(await s.post("notice/",t)).data,g=async t=>{const{data:e}=await s.get(`notice/?major=${t}`);return console.log(e),e},N=async t=>{const{data:e}=await s.delete(`notice/${t}`);return e},r={notice:"notice",id:"id"},E=t=>{const{createToastMessage:e}=n(),{data:o,isLoading:a}=d([r.notice,t],()=>g(t),{onError:()=>{e("다시 시도해주세요.","error")}});return{data:o,isLoading:a}},Q=()=>{const{me:t}=m(),{createToastMessage:e}=n(),o=c();return i(u=>{if(!t)throw new Error;return M({...u,major:l[t.major],writer:t.id})},{onSuccess:()=>{e("공지사항 등록 완료!","success"),o.invalidateQueries(r.notice)},onError:()=>e("다시 시도해주세요.","error")})},f=()=>{const{createToastMessage:t}=n(),e=c();return i(N,{onSuccess:()=>{t("공지사항 삭제 완료!","success"),e.invalidateQueries(r.notice)},onError:()=>t("다시 시도해주세요.","error")})};export{f as a,Q as b,E as u};

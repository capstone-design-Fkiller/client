import{c as i,a as u,l as f,j as t,L as m,b as a,r as p,u as b}from"./index-1070b3da.js";import{I as x,f as g,M as y,B as k,P as _}from"./index-44d581cb.js";import{g as v}from"./building-34ad378b.js";import{u as w,a as S}from"./locker-83b8de91.js";const L=i("section",{target:"e1rvq8hz4"})("display:flex;flex-direction:column;justify-content:center;align-items:center;padding:0 30px;",({theme:e})=>u("min-height:calc(var(--vh, 1vh) * 100 - ",e.layouts.fixedHeight,");",""),";"),j=i("div",{target:"e1rvq8hz3"})("display:flex;justify-content:center;align-items:center;width:100%;height:450px;background-color:",({theme:e})=>e.colors.white_300,";border:1px solid ",({theme:e})=>e.colors.light_grey_100,";border-radius:5px;margin-bottom:30px;overflow-y:auto;scrollbar-width:thin;&::-webkit-scrollbar{width:5px;background-color:",({theme:e})=>e.colors.background_2,";}&::-webkit-scrollbar-thumb{background-color:",({theme:e})=>e.colors.primary_100,";border-radius:10px;height:20px;}"),z=i("h1",{target:"e1rvq8hz2"})("color:",({theme:e})=>e.colors.primary_200,";font-size:1.2rem;margin-bottom:30px;"),N=e=>u("&.disabled{background-color:",e.colors.light_grey_200,";color:",e.colors.black,";}&.disabled:hover{background-color:",e.colors.grey_400,";}",""),B=e=>{const{id:o,lockers:n,isLoading:d,setSelectedLocker:s}=e,c=f(),h=r=>{o===r.id&&s(void 0),o!==r.id&&s(r)};return d?t(m,{}):n.length===0?a(l.Nothing,{children:[t(x,{iconName:"nothing",size:"100",color:c.colors.grey_200,hasCursor:!1}),t("span",{style:{color:c.colors.grey_200},children:"쉐어 가능한 사물함이 없습니다."})]}):t(l.Root,{children:n.map(r=>a(p.Fragment,{children:[a(l.SharedLocker,{isActive:o===r.id,onClick:()=>h(r),children:[a("div",{children:[r.owned_id," / ",v(r.building_id)," / ",r.floor,"층 / ",r.id]}),a("div",{children:[g(new Date(r.share_start_date),!1)," ~ ",g(new Date(r.share_end_date),!1)]})]}),t(l.Separator,{})]},r.id))})},l={Nothing:i("div",{target:"e1t80w393"})({name:"6k94ns",styles:"width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:20px"}),Root:i("div",{target:"e1t80w392"})({name:"hkez6v",styles:"width:100%;height:100%;display:flex;flex-direction:column;justify-content:flex-start;align-items:center"}),SharedLocker:i("div",{target:"e1t80w391"})("position:relative;padding:20px;cursor:pointer;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:5px;transition:color 0.15s ease-in-out;color:",({isActive:e,theme:o})=>e&&o.colors.primary_200,";&:hover{color:",({theme:e})=>e.colors.primary_200,";}"),Separator:i("hr",{target:"e1t80w390"})("width:90%;height:1px;padding-left:10px;border:0;background:",({theme:e})=>e.colors.light_grey_200,";")},A=()=>{const{me:e}=b(),[o,n]=p.useState();if(!e)return t("div",{children:"로그인 해주세요!"});const{sharableLockers:d,isLoading:s}=w(y[e.major]),{mutate:c}=S(),h=()=>{if(!o)return;confirm("정말 쉐어 신청 하시겠습니까?")&&c({id:o.id,shared_id:e.id})};return t(_,{children:a(L,{children:[t(z,{children:"쉐어할 사물함을 선택해주세요!"}),t(j,{children:t(B,{id:o&&o.id||0,lockers:d||[],isLoading:s,setSelectedLocker:n})}),t(k,{variant:"contained",className:o?"":"disabled",css:N,onClick:h,children:"쉐어 신청하기"})]})})};export{A as default};

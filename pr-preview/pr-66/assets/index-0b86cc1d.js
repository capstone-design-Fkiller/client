import{c as o,a as k,j as t,b as l,u as z,r as i,d as M,L as T,F as f,P as j}from"./index-1b168d93.js";import{I as E,u as F,M as H,a as L,B as R,P as B}from"./index-e08c0970.js";import{g as N}from"./building-925df4bd.js";import{P as g,a as G}from"./index-211774eb.js";import{u as O}from"./assign-b66e4b33.js";const D=o("div",{target:"eoglrl06"})("display:flex;justify-content:center;flex-direction:column;align-items:center;padding:0 30px;",({theme:n})=>k("min-height:calc(var(--vh, 1vh) * 100 - ",n.layouts.fixedHeight,");",""),";"),J=o("h1",{target:"eoglrl05"})("font-size:30px;font-weight:bold;margin-bottom:10px;color:",({theme:n})=>n.colors.primary_200,";"),$=o("table",{target:"eoglrl04"})("width:100%;margin-top:15px;border-collapse:collapse;& tr>td,& tr>th{padding:10px 5px;white-space:nowrap;&:first-of-type{padding-left:10px;}}& tbody tr{border-bottom:1px solid ",({theme:n})=>n.colors.light_grey_100,";}"),q=o("h1",{target:"eoglrl03"})({name:"lykxvs",styles:"display:flex;font-size:18px;justify-content:center;margin:150px 0"}),K=o("div",{target:"eoglrl01"})({name:"zl1inp",styles:"display:flex;justify-content:center"}),Q=o("textarea",{target:"eoglrl00"})("margin-top:5%;width:100%;height:80%;resize:none;padding:5px;border:1px solid ",({theme:n})=>n.colors.light_grey_100,";border-radius:5px;"),U=({contents:n,handleContent:a})=>t("tbody",{children:n.map(e=>l(r.Row,{children:[t(r.Item,{children:e.locker_number}),t(r.Item,{children:N(e.building_id)}),t(r.Item,{children:e.user}),t(r.Item,{children:e.user_name}),t(r.IconItem,{onClick:()=>a(e.id),children:t(E,{iconName:"bell",size:"20"})})]},e.id))}),r={Row:o("tr",{target:"eb1eze72"})({name:"suclo2",styles:"font-size:14px;padding:10px;width:100%"}),Item:o("td",{target:"eb1eze71"})({name:"7lr3li",styles:"white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:center"}),IconItem:o("td",{target:"eb1eze70"})("display:flex;flex-direction:column;align-items:center;transition:0.1s color ease-in-out;cursor:pointer;&:hover svg path{stroke:",({theme:n})=>n.colors.secondary_200,";}")},V=n=>{const{headers:a}=n;return t(y.Head,{children:t("tr",{children:a.map(e=>t(y.Item,{children:e},e))})})},y={Head:o("thead",{target:"e69wk4o1"})("font-size:16px;font-weight:bold;background-color:",({theme:n})=>n.colors.primary_200,";border-radius:5px;"),Item:o("th",{target:"e69wk4o0"})({name:"7lr3li",styles:"white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:center"})},W=["사물함","건물","학번","이름","알림"],ne=()=>{const{me:n}=z(),{mutate:a}=F(),{data:e,isLoading:b}=O(H[(n==null?void 0:n.major)??"학과"]),[c,w]=i.useState(1),[h,p]=i.useState(""),[m,u]=i.useState(null),[d,v]=i.useState(null),I=M(),A=()=>{a({receiver:(d==null?void 0:d.user)??0,message:h}),I(j.ASSIGN),x()},S=s=>{u(s);const P=e==null?void 0:e.find(_=>_.id==s);v(P??null)},x=()=>{u(null),p("")},C=s=>{p(s.target.value)};return t(B,{children:l(D,{children:[t(J,{children:"사물함 최종 배정 결과"}),b?t(T,{}):t(f,{children:e&&e.length===0?t(q,{children:"사물함 배정 기간이 아닙니다."}):l(f,{children:[l($,{children:[t(V,{headers:W}),t(U,{contents:(e==null?void 0:e.slice((c-1)*g,c*g))||[],handleContent:S})]}),t(K,{children:t(G,{currentPage:c,totalItems:(e==null?void 0:e.length)||0,itemsPerPage:g,setState:w})}),m!==null&&l(L,{title:"개별 알림",onClose:x,open:!!m,children:[t(Q,{onChange:C,value:h,placeholder:"보낼 알림을 입력하세요."}),t(R,{variant:"contained",color:"primary",onClick:A,children:"알림 보내기"})]})]})})]})})};export{ne as default};

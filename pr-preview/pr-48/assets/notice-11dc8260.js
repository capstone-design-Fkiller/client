import{i as n,f as a,g as d,u as m,h as c,k as i}from"./index-c023237a.js";import{M as l}from"./major-a63cf2c8.js";const M=async t=>(await n.post("notice/",t)).data,N=async t=>{const{data:e}=await n.get(`notice/?major=${t}`);return e},p=async t=>{const{data:e}=await n.get(`notice/${t}`);return e},w=async t=>{const{id:e,...o}=t;return(await n.put(`notice/${e}`,o)).data},y=async t=>{const{data:e}=await n.delete(`notice/${t}`);return e},r={notice:"notice",noticeDetail:"noticedetail"},Q=t=>{const{createToastMessage:e}=a(),{data:o,isLoading:s}=d([r.notice,t],()=>N(t),{onError:()=>{e("다시 시도해주세요.","error")}});return{data:o,isLoading:s}},T=t=>{const{createToastMessage:e}=a(),{data:o,isLoading:s}=d([r.noticeDetail,t],()=>p(t),{onError:()=>{e("다시 시도해주세요.","error")}});return{data:o,isLoading:s}},f=()=>{const{me:t}=m(),{createToastMessage:e}=a(),o=c();return i(g=>{if(!t)throw new Error;return M({...g,major:l[t.major],writer:t.id})},{onSuccess:()=>{e("공지사항 등록 완료!","success"),o.invalidateQueries(r.notice)},onError:()=>e("다시 시도해주세요.","error")})},C=()=>{const{me:t}=m(),e=c(),{createToastMessage:o}=a();if(!t)throw new Error;return i(u=>w({...u,major:l[t.major],writer:t.id}),{onSuccess:()=>{o("공지사항 수정 완료!","success"),e.invalidateQueries(r.notice)},onError:()=>o("다시 시도해주세요.","error")})},D=()=>{const{createToastMessage:t}=a(),e=c();return i(y,{onSuccess:()=>{t("공지사항 삭제 완료!","success"),e.invalidateQueries(r.notice)},onError:()=>t("다시 시도해주세요.","error")})};export{f as a,T as b,D as c,C as d,Q as u};

import{c as a,a as u,l as f,j as t,L as m,b as i,r as p,u as b}from"./index-004605c5.js";import{I as x,f as g,M as y,B as k,P as v}from"./index-9bbc482b.js";import{S as _}from"./index-0ee071b8.js";import{g as w}from"./building-34ad378b.js";import{u as S,a as L}from"./locker-4206c183.js";const j=a("section",{target:"e1rvq8hz4"})("display:flex;flex-direction:column;justify-content:center;align-items:center;padding:0 30px;",({theme:e})=>u("min-height:calc(var(--vh, 1vh) * 100 - ",e.layouts.fixedHeight,");",""),";"),z=a("div",{target:"e1rvq8hz3"})("display:flex;justify-content:center;align-items:center;width:100%;height:450px;background-color:",({theme:e})=>e.colors.white_300,";border:1px solid ",({theme:e})=>e.colors.light_grey_100,";border-radius:5px;margin-bottom:30px;overflow-y:auto;scrollbar-width:thin;&::-webkit-scrollbar{width:5px;background-color:",({theme:e})=>e.colors.background_2,";}&::-webkit-scrollbar-thumb{background-color:",({theme:e})=>e.colors.primary_100,";border-radius:10px;height:20px;}"),N=a("h1",{target:"e1rvq8hz2"})("color:",({theme:e})=>e.colors.primary_200,";font-size:1.2rem;margin-bottom:30px;"),B=e=>u("&.disabled{background-color:",e.colors.light_grey_200,";color:",e.colors.black,";}&.disabled:hover{background-color:",e.colors.grey_400,";}",""),C=e=>{const{id:o,lockers:s,isLoading:l,setSelectedLocker:n}=e,c=f(),d=r=>{o===r.id&&n(void 0),o!==r.id&&n(r)};return l?t(m,{}):s.length===0?i(h.Nothing,{children:[t(x,{iconName:"nothing",size:"100",color:c.colors.grey_200,hasCursor:!1}),t("span",{style:{color:c.colors.grey_200},children:"쉐어 가능한 사물함이 없습니다."})]}):t(h.Root,{children:s.map(r=>i(p.Fragment,{children:[i(h.SharedLocker,{isActive:o===r.id,onClick:()=>d(r),children:[i("div",{children:[r.owned_id," / ",w(r.building_id)," / ",r.floor,"층 / ",r.id]}),i("div",{children:[g(new Date(r.share_start_date),!1)," ~ ",g(new Date(r.share_end_date),!1)]})]}),t(_,{})]},r.id))})},h={Nothing:a("div",{target:"e1t80w392"})({name:"6k94ns",styles:"width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:20px"}),Root:a("div",{target:"e1t80w391"})({name:"hkez6v",styles:"width:100%;height:100%;display:flex;flex-direction:column;justify-content:flex-start;align-items:center"}),SharedLocker:a("div",{target:"e1t80w390"})("position:relative;padding:20px;cursor:pointer;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:5px;transition:color 0.15s ease-in-out;color:",({isActive:e,theme:o})=>e&&o.colors.primary_200,";&:hover{color:",({theme:e})=>e.colors.primary_200,";}")},F=()=>{const{me:e}=b(),[o,s]=p.useState();if(!e)return t("div",{children:"로그인 해주세요!"});const{sharableLockers:l,isLoading:n}=S(y[e.major]),{mutate:c}=L(),d=()=>{if(!o)return;confirm("정말 쉐어 신청 하시겠습니까?")&&c({id:o.id,shared_id:e.id})};return t(v,{children:i(j,{children:[t(N,{children:"쉐어할 사물함을 선택해주세요!"}),t(z,{children:t(C,{id:o&&o.id||0,lockers:l||[],isLoading:n,setSelectedLocker:s})}),t(k,{variant:"contained",className:o?"":"disabled",css:B,onClick:d,children:"쉐어 신청하기"})]})})};export{F as default};

import{i as l,g as p,f as v,h as w,k as Q}from"./index-83cb571a.js";const d=async s=>{const{data:r}=await l.get(`major/${s}`);return r},F=async s=>{const{id:r,...t}=s,{data:e}=await l.patch(`/major/${r}`,t);return e},i={major:"major",assign:"assignResult",sort:"sort"},E=(s,r)=>{var a,o,n,c,u,_;const{data:t}=p([i.major,s],()=>d(s),{enabled:!!s,select:y=>{const{priority_1:g,priority_2:b,priority_3:M,is_baserule_FCFS:h}=y;return r?{priority_1:g,priority_2:b,priority_3:M,is_baserule_FCFS:h}:y}}),e={priority_1_answer:(a=t==null?void 0:t.priority_1)!=null&&a.name?(o=t==null?void 0:t.priority_1)!=null&&o.is_bool?!1:"-1":void 0,priority_2_answer:(n=t==null?void 0:t.priority_2)!=null&&n.name?(c=t==null?void 0:t.priority_2)!=null&&c.is_bool?!1:"-1":void 0,priority_3_answer:(u=t==null?void 0:t.priority_3)!=null&&u.name?(_=t==null?void 0:t.priority_3)!=null&&_.is_bool?!1:"-1":void 0};return{majorInfo:t,initPriorityValue:e}},S=()=>{const{createToastMessage:s}=v(),r=w();return Q(e=>F(e),{onSuccess:()=>{s("배정 기준 설정이 완료되었습니다.","success"),r.invalidateQueries([i.assign]),r.invalidateQueries([i.major])},onError:()=>{s("배정 기준 설정에 실패했습니다.","error")}})},j=s=>{const{data:r}=p([i.major,s],()=>d(s),{enabled:!!s,select:t=>t});return{majorInfo:r}};export{j as a,S as b,E as u};

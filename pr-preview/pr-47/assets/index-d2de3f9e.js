import{c as s,a as v,d as R,e as F,u as H,r as o,j as t,b as n,P as N}from"./index-aaf25e25.js";import{B as z,I as J,P as L,M as W}from"./index-a71a5d1c.js";import{S as d}from"./index-8ed9266c.js";import{C as q,D as b}from"./index-e8f694dc.js";import{a as G}from"./major-0f5d856e.js";import{f as j}from"./date-fdfefd0a.js";const K=s("section",{target:"e14g5ljl8"})("display:flex;flex-direction:column;justify-content:center;padding:0 30px;gap:20px;",({theme:e})=>v("min-height:calc(var(--vh, 1vh) * 100 - ",e.layouts.fixedHeight,");",""),";"),Q=s("div",{target:"e14g5ljl7"})("font-size:18px;font-weight:700;text-align:center;color:",({theme:e})=>e.colors.black,";"),U=s("div",{target:"e14g5ljl6"})("font-size:14px;font-weight:400;text-align:center;",({theme:e})=>v("color:",e.colors.primary_200,";",""),";"),V=s("div",{target:"e14g5ljl5"})({name:"1g5w59a",styles:"display:grid;grid-template-columns:1fr 1fr;gap:10px;width:100%;margin:20px 0 10px 0"}),X=s("div",{target:"e14g5ljl2"})("display:grid;grid-template-rows:350px 1fr;width:100%;height:350px;background-color:",({theme:e})=>e.colors.white_300,";border:1px solid ",({theme:e})=>e.colors.light_grey_100,";border-radius:5px;margin-bottom:30px;"),Y=s("div",{target:"e14g5ljl1"})("display:flex;flex-direction:column;justify-content:space-evenly;align-items:flex-start;width:100%;padding:10px;border:1px solid ",({theme:e})=>e.colors.light_grey_100,";border-top:1px solid ",({theme:e})=>e.colors.background_2,";background-color:",({theme:e})=>e.colors.background_1,";&>div{width:80%;display:flex;justify-content:space-between;align-items:center;&>div{border-bottom:2px solid ",({theme:e})=>e.colors.primary_100,";}}&>div:last-of-type{width:68%;}"),p=s("div",{target:"e14g5ljl0"})("span{font-weight:400;color:",({theme:e})=>e.colors.primary_300,";}"),l={학년:"고학번","재학 여부":"재학여부","전공 수업 수":"전공수업수","통학 시간":"통학시간","통학 여부":"통학여부","학생회비 납부 여부":"학생회비 납부여부"},ne=()=>{const e=R(),{createToastMessage:_}=F(),{me:a}=H(),[i,S]=o.useState(),[x,C]=o.useState(["",""]),[g,w]=o.useState("선택 없음"),[h,T]=o.useState("선택 없음"),[u,P]=o.useState("선택 없음"),[y,D]=o.useState("선착순"),k=r=>w(r.currentTarget.innerText),I=r=>T(r.currentTarget.innerText),M=r=>P(r.currentTarget.innerText),B=r=>D(r.currentTarget.innerText),{mutate:E}=G(),A=()=>{if(!i){_("날짜 선택은 필수입니다.","error");return}const[r,m]=i.toString().split(",").map(c=>new Date(c).toISOString()),f={id:W[(a==null?void 0:a.major)??"학과"],name:(a==null?void 0:a.major)??"학과",priority_1:g==="선택 없음"?null:l[g],priority_2:h==="선택 없음"?null:l[h],priority_3:u==="선택 없음"?null:l[u],apply_start_date:r,apply_end_date:m,is_baserule_FCFS:y!=="선착순"};E(f,{onSuccess:()=>e(N.MAIN),onError:c=>console.error("PutMajor Error:",c)})};return o.useEffect(()=>{if(i){const[r,m]=i.toString().split(",").map(O=>new Date(O)),f=j(r),c=j(m);C([f,c])}else return},[i]),t(L,{children:n(K,{children:[t(Q,{children:n("h2",{children:[a==null?void 0:a.major," 사물함 배정하기"]})}),n(U,{children:[t("span",{children:"배정 날짜와 기준을 선택해주세요."}),t("br",{}),t("span",{children:"배정 날짜와 동점자 배정 기준은 필수 항목입니다."})]}),t(q,{selectedDate:i,setSelectedDate:S}),n(V,{children:[t(b,{label:"배정 접수 시작일",date:x[0]}),t(b,{label:"배정 접수 종료일",date:x[1]})]}),t(X,{children:n(Y,{children:[n(p,{children:[t("span",{children:"1순위: "}),t(d,{value:g,list:Object.keys(l),handleChange:k})]}),n(p,{children:[t("span",{children:"2순위:"}),t(d,{value:h,list:Object.keys(l),handleChange:I})]}),n(p,{children:[t("span",{children:"3순위:"}),t(d,{value:u,list:Object.keys(l),handleChange:M})]}),n(p,{children:[t("span",{children:"동점자 기준:"}),t(d,{value:y,list:["선착순","랜덤"],handleChange:B})]})]})}),t(z,{type:"submit",variant:"contained",startIcon:t(J,{iconName:"box"}),onClick:A,children:"사물함 배정하기"})]})})};export{ne as default};

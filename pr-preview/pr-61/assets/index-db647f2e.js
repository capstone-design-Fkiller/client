import{c as s,a as I,d as x,u as f,j as i,b as r,P as d,F as g,L as j,l as w}from"./index-0422ad27.js";import{B as a,P as _,I as v}from"./index-bcab5ad6.js";import{g as k}from"./building-34ad378b.js";import{u as y,c as N}from"./locker-2e51b7ea.js";const S=s("section",{target:"e377ic80"})("display:flex;flex-direction:column;justify-content:center;padding:0 30px;gap:20px;",({theme:e})=>I("min-height:calc(var(--vh, 1vh) * 100 - ",e.layouts.fixedHeight,");",""),";"),B=()=>{const e=x(),{me:t}=f();return i(_,{children:i(S,{children:t?r(g,{children:[i(a,{variant:"contained",onClick:()=>e(d.CRITERIA),children:"사물함 배정기준 설정"}),i(a,{variant:"contained",onClick:()=>e(d.SORT),children:"사물함 배정 확정"})]}):i(j,{})})})},P=e=>{const{locker:t,name:n,id:o}=e;if(!t)return i(m.InformBox,{className:"nothing",children:r("div",{className:"nothing-inner",children:[r("div",{className:"inform__user",children:[r("span",{children:["이름: ",n]}),r("span",{children:["학번: ",o]})]}),r("div",{children:[i("p",{children:"아직 배정된 사물함이 없습니다."})," ",i("p",{children:"사물함을 신청하세요"})]})]})});const{owned_id:c,building_id:l,id:b,shared_id:h,is_share_registered:C}=t;return r(m.InformBox,{children:[r("span",{children:["이름: ",n]}),r("span",{children:["학번: ",o]}),r("span",{children:["건물: ",k(l)]}),r("span",{children:["사물함 번호: ",b]}),c===o&&i("span",{children:h?`쉐어중 :  ${h}`:`쉐어 등록 여부 : ${C?"✔️":"❌"}`}),h===o&&i("span",{children:"쉐어 받음"})]})},m={InformBox:s("div",{target:"ey0rj9n0"})("display:grid;grid-template-columns:1fr 1fr;justify-items:flex-start;align-items:center;width:100%;padding:0 10px;border-top:1px solid ",({theme:e})=>e.colors.light_grey_100,";background-color:",({theme:e})=>e.colors.background_2,";&.nothing{display:flex;flex-direction:column;justify-content:center;align-items:center;p{color:",({theme:e})=>e.colors.error_100,";}}& .nothing-inner{display:flex;flex-direction:column;justify-content:center;gap:10px;}& .inform__user{display:flex;justify-content:space-between;align-items:center;width:100%;}")},u=({user:e})=>{const{name:t,id:n}=e,{myLocker:o}=y(n);return r(p.Container,{children:[i(p.LockerInfo,{children:i(v,{iconName:"locker",size:"150",hasCursor:!1})}),i(P,{name:t,id:n,locker:o})]})};u.Skeleton=function(){const t=w();return r(p.SkeletonWrapper,{children:[i(v,{iconName:"nothing",size:"100",color:t.colors.grey_200,hasCursor:!1}),i("span",{style:{color:t.colors.grey_200},children:"로그인 후 사용할 수 있습니다!"})]})};const p={Container:s("div",{target:"e152uy8q2"})("display:grid;grid-template-rows:350px 1fr;width:100%;height:450px;background-color:",({theme:e})=>e.colors.white_300,";border:1px solid ",({theme:e})=>e.colors.light_grey_100,";border-radius:5px;"),LockerInfo:s("div",{target:"e152uy8q1"})({name:"t5t5sq",styles:"display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:100%"}),SkeletonWrapper:s("div",{target:"e152uy8q0"})("display:flex;flex-direction:column;justify-content:center;align-items:center;gap:30px;width:100%;height:450px;background-color:",({theme:e})=>e.colors.white_300,";border:1px solid ",({theme:e})=>e.colors.light_grey_100,";border-radius:5px;margin-bottom:30px;")},M=()=>{const e=x(),{me:t}=f(),{myLocker:n}=y((t==null?void 0:t.id)||0),o=l=>{e(l)},{mutate:c}=N();return i(_,{children:i(S,{children:t?r(g,{children:[i(u,{user:t}),n&&!(n!=null&&n.shared_id)&&!(n!=null&&n.is_share_registered)&&i(a,{variant:"contained",onClick:()=>o(d.USER_SHARE),children:"사물함 쉐어하기"}),(n==null?void 0:n.owned_id)===(t==null?void 0:t.id)&&!(n!=null&&n.shared_id)&&(n!=null&&n.is_share_registered)?i(a,{variant:"outlined",onClick:()=>c({id:(n==null?void 0:n.id)||0,share_start_date:null,share_end_date:null}),children:"쉐어 취소"}):void 0]}):r(g,{children:[i(u.Skeleton,{}),i(a,{variant:"contained",onClick:()=>o(d.LOGIN),children:"로그인 하러 가기"})]})})})},F=()=>{const{me:e}=f();return e!=null&&e.is_usermode?i(M,{}):i(B,{})};export{F as default};

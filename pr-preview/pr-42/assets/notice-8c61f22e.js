import{i as s,e as n,f as d,u as m,g as c,h as i}from"./index-8ff26fe9.js";import{M}from"./major-a63cf2c8.js";const l=async t=>(await s.post("notice/",t)).data,N=async t=>{const{data:e}=await s.get(`notice/?major=${t}`);return e},g=async t=>{const{data:e}=await s.delete(`notice/${t}`);return e},r={notice:"notice",id:"id"},E=t=>{const{createToastMessage:e}=n(),{data:o,isLoading:a}=d([r.notice,t],()=>N(t),{onError:()=>{e("다시 시도해주세요.","error")}});return{data:o,isLoading:a}},Q=()=>{const{me:t}=m(),{createToastMessage:e}=n(),o=c();return i(u=>{if(!t)throw new Error;return l({...u,major:M[t.major],writer:t.id})},{onSuccess:()=>{e("공지사항 등록 완료!","success"),o.invalidateQueries(r.notice)},onError:()=>e("다시 시도해주세요.","error")})},f=()=>{const{createToastMessage:t}=n(),e=c();return i(g,{onSuccess:()=>{t("공지사항 삭제 완료!","success"),e.invalidateQueries(r.notice)},onError:()=>t("다시 시도해주세요.","error")})};export{Q as a,f as b,E as u};

import{c as r,a as v,r as y,j as h,b as t,u as C,d as P,F as S,L as I,P as N}from"./index-5559c132.js";import{I as b,M as _,P as M,B as T}from"./index-bc74181a.js";import{S as k}from"./major-1d6ed76c.js";import{u as E}from"./notice-378dd2a0.js";const j=r("div",{target:"e1ch39565"})("display:flex;justify-content:center;flex-direction:column;align-items:center;padding:0 30px;",({theme:e})=>v("min-height:calc(var(--vh, 1vh) * 100 - ",e.layouts.fixedHeight,");",""),";"),A=r("h1",{target:"e1ch39564"})("font-size:30px;font-weight:bold;margin-bottom:10px;color:",({theme:e})=>e.colors.primary_200,";"),$=r("table",{target:"e1ch39563"})("width:100%;margin-top:15px;border-collapse:collapse;& tr>td,& tr>th{padding:10px 0;&:first-of-type{padding-left:10px;}}& tbody tr{border-bottom:1px solid ",({theme:e})=>e.colors.light_grey_100,";}"),z=r("div",{target:"e1ch39562"})("display:flex;justify-content:center;padding:10px;border-bottom:1px solid ",({theme:e})=>e.colors.light_grey_200,";"),D=r("h2",{target:"e1ch39561"})({name:"5rt1vw",styles:"font-weight:bold;margin-bottom:10px"}),F=r("div",{target:"e1ch39560"})("white-space:pre-line;font-size:16px;color:",({theme:e})=>e.colors.grey_400,";margin-top:20px;line-height:1.4;"),H=r("div",{target:"eaq5sof1"})({name:"ppp0le",styles:"display:flex;justify-content:space-between;align-items:center;margin:20px 0 15px"}),q=r("span",{target:"eaq5sof0"})("font-size:14px;padding:0 10px;cursor:pointer;color:",({isActive:e,theme:n})=>e?n.colors.primary_200:n.colors.black,";font-weight:",({isActive:e})=>e&&600,";"),x=10,R=e=>{const{currentPage:n,totalItems:a,itemsPerPage:g,setState:s}=e,o=Math.ceil(a/g),c=()=>{n<o&&s(n+1)},p=()=>{n>1&&s(n-1)},d=l=>{const i=parseInt(l.currentTarget.innerText);s(i)},m=y.useMemo(()=>Array.from({length:o},(l,i)=>i+1),[o]);return h(H,{children:[t(b,{iconName:"left",onClick:p,size:"18"}),m.map(l=>t(q,{isActive:l===n,onClick:d,children:l},l)),t(b,{iconName:"right",onClick:c,size:"18"})]})},L=e=>{const{contents:n,handleContent:a}=e,g=o=>{const c=new Date(o),p=c.getFullYear().toString().slice(-2),d=(c.getMonth()+1).toString().padStart(2,"0"),m=c.getDate().toString().padStart(2,"0");return`${p}${d}${m}`},s=o=>k[o]||"";return t("tbody",{children:n.map(o=>h(f.Row,{onClick:()=>a(o.id),children:[t(f.Item,{children:o.id}),t(f.Item,{children:s(o.major)}),t(f.Item,{children:o.title}),t(f.Item,{children:g(o.created_at)})]},o.id))})},f={Row:r("tr",{target:"eqqh4ra1"})("font-size:14px;width:100%;padding:10px;cursor:pointer;transition:0.1s color ease-in-out;&:hover{color:",({theme:e})=>e.colors.primary_200,";}"),Item:r("td",{target:"eqqh4ra0"})({name:"7lr3li",styles:"white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:center"})},B=e=>{const{headers:n}=e;return t(w.Head,{children:t("tr",{children:n.map(a=>t(w.Item,{children:a},a))})})},w={Head:r("thead",{target:"e1rhunsf1"})("font-size:16px;font-weight:bold;background-color:",({theme:e})=>e.colors.primary_200,";border-radius:5px;"),Item:r("th",{target:"e1rhunsf0"})({name:"7lr3li",styles:"white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:center"})},O=["ID","학과","제목","작성일"],Q=()=>{const{me:e}=C();console.log(e);const n=P(),[a,g]=y.useState(1),[s,o]=y.useState(null),{data:c,isLoading:p}=E(),d=c?c.slice().reverse():[],m=u=>{o(u)},l=()=>{o(null)},i=s?d.find(u=>u.id===s):null;return h(M,{children:[h(j,{children:[t(A,{children:"공지사항"}),p?t(I,{}):h(S,{children:[h($,{children:[t(B,{headers:O}),t(L,{contents:d.slice((a-1)*x,a*x),handleContent:m})]}),t(R,{currentPage:a,totalItems:d.length,itemsPerPage:x,setState:g})]}),(e==null?void 0:e.is_usermode)||t(T,{variant:"contained",onClick:()=>n(N.CREATE_NOTICE),children:"공지사항 작성하기"})]}),h(_,{onClose:l,title:`Notice Detail [${s}]`,open:!!s,children:[t(z,{children:t(D,{children:i&&`${i.id}. ${i.title}`})}),t(F,{children:i&&i.content})]})]})};export{Q as default};

import{i as s,e as n,f as i,d as N,g as u,h as d}from"./index-df0c5292.js";import{M as g}from"./major-1d6ed76c.js";const m=async t=>(await s.post("notice/",t)).data,l=async()=>{const{data:t}=await s.get("notice/");return t},y=async t=>{const{data:e}=await s.get(`notice/?major=${t}`);return e},p=async t=>{const{data:e}=await s.delete(`notice/${t}`);return e},a={notice:"notice",id:"id"},h=()=>{const{createToastMessage:t}=n(),{data:e,isLoading:o}=i(a.notice,l,{onError:()=>{t("다시 시도해주세요.","error")}});return{data:e,isLoading:o}},Q=t=>{const{createToastMessage:e}=n(),{data:o,isLoading:r}=i([a.notice,t],()=>y(t),{onError:()=>{e("다시 시도해주세요.","error")}});return{data:o,isLoading:r}},T=()=>{const{me:t}=N(),{createToastMessage:e}=n(),o=u();return d(M=>{if(!t)throw new Error;return m({...M,major:g[t.major],writer:t.id})},{onSuccess:()=>{e("공지사항 등록 완료!","success"),o.invalidateQueries(a.notice)},onError:()=>e("다시 시도해주세요.","error")})},f=()=>{const{createToastMessage:t}=n(),e=u();return d(c=>p(c),{onSuccess:()=>{t("공지사항 삭제 완료!","success"),e.invalidateQueries(a.notice)},onError:()=>t("다시 시도해주세요.","error")})};export{T as a,Q as b,f as c,h as u};
